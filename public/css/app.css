/* ============================
   Ã°Å¸Å’â„¢ TEMA OSCURO PROFESIONAL COMPLETO
   Expediter Load Calculator
   ============================ */

/* Ã°Å¸Å½Â¯ VARIABLES DE COLOR */
:root {
  /* Fondos oscuros */
  --bg-darkest: #0a0f1e;
  --bg-dark: #0f172a;
  --bg-card: #1e293b;
  --bg-card-hover: #334155;

  /* Azules vibrantes */
  --primary-blue: #3b82f6;
  --primary-blue-light: #60a5fa;
  --primary-blue-dark: #2563eb;

  /* Textos */
  --text-primary: #f1f5f9;
  --text-secondary: #cbd5e1;
  --text-muted: #94a3b8;
  --text-dim: #64748b;

  /* Bordes */
  --border-default: #334155;
  --border-hover: #475569;
  --border-accent: #3b82f6;

  /* Estados */
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;
}

/* ============================
   Ã°Å¸Å’Å’ FONDO Y ESTRUCTURA GENERAL
   ============================ */

body {
  background: var(--bg-darkest) !important;
  color: var(--text-secondary) !important;
  position: relative;
  min-height: 100vh;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image:
    radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(59, 130, 246, 0.08) 0%, transparent 50%);
  pointer-events: none;
  z-index: 0;
}

/* ============================
   Ã°Å¸â€œÂ± HEADER
   ============================ */

header {
  background: var(--bg-dark) !important;
  border-bottom: 1px solid var(--border-accent) !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
  position: sticky;
  top: 0;
  z-index: 100;
}

header img {
  border: 2px solid var(--border-accent) !important;
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

header .text-3xl,
header span.text-3xl {
  color: var(--text-primary) !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 10px rgba(59, 130, 246, 0.3);
}

/* DEPRECATED - Movido al final del archivo - #logoutBtn {
/* DEPRECATED - Movido al final del archivo -   background: var(--danger) !important;
/* DEPRECATED - Movido al final del archivo -   color: white !important;
/* DEPRECATED - Movido al final del archivo -   border: 1px solid rgba(239, 68, 68, 0.5) !important;
/* DEPRECATED - Movido al final del archivo -   box-shadow: 0 2px 10px rgba(239, 68, 68, 0.3);
/* DEPRECATED - Movido al final del archivo - }
/* DEPRECATED - Movido al final del archivo - 
/* DEPRECATED - Movido al final del archivo - #logoutBtn:hover {
/* DEPRECATED - Movido al final del archivo -   background: #dc2626 !important;
/* DEPRECATED - Movido al final del archivo -   transform: translateY(-1px);
/* DEPRECATED - Movido al final del archivo - }

/* ============================
   Ã°Å¸â€Ëœ NAVEGACIÃƒâ€œN TABS
   ============================ */

nav {
  background: var(--bg-dark) !important;
  border-top: none !important;
}

.tab-link {
  color: white !important;
  background: transparent !important;
  border-bottom: 3px solid transparent !important;
  padding: 16px 28px !important;
  font-weight: 600 !important;
  transition: all 0.3s ease !important;
  font-size: 1.125rem !important;
}

.tab-link:hover {
  color: var(--primary-blue-light) !important;
  background: rgba(59, 130, 246, 0.08) !important;
}

.tab-link.tab-active {
  color: var(--primary-blue) !important;
  background: rgba(59, 130, 246, 0.12) !important;
  border-bottom: 3px solid var(--primary-blue) !important;
}

/* ============================
   Ã°Å¸â€œÂ¦ LAYOUT TABS Y CONTENEDORES
   ============================ */

#appContent {
  position: relative;
  z-index: 1;
}

.tab-content {
  display: none;
  max-width: 1600px;
  width: 100%;
  margin: 0 auto;
  padding: 2.5rem 1.5rem;
  background: transparent;
}

.tab-content.tab-active {
  display: block;
  animation: slideIn 0.4s ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(15px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================
   Ã°Å¸â€™Å½ TARJETAS (CARDS)
   ============================ */

.card-section {
  background: var(--bg-card) !important;
  border: 1px solid var(--border-default) !important;
  border-radius: 16px !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
  padding: 2rem !important;
  margin-bottom: 2rem !important;
  transition: all 0.3s ease !important;
  position: relative;
  width: 100%;
  max-width: none;
}

.card-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--primary-blue) 0%, var(--primary-blue-light) 100%);
  border-radius: 16px 16px 0 0;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.card-section:hover {
  border-color: var(--border-accent) !important;
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.25) !important;
  transform: translateY(-3px) !important;
}

.card-section:hover::before {
  opacity: 1;
}

/* ============================
   Ã°Å¸Å½Â¨ ENCABEZADOS
   ============================ */

/* Headers sin fondo (section-header) */
.section-header {
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  margin-bottom: 2rem !important;
  box-shadow: none !important;
}

/* H2 principales de cada tab */
.tab-content h2 {
  color: var(--text-primary) !important;
  font-weight: 800 !important;
  font-size: 2rem !important;
  text-shadow: 0 2px 15px rgba(59, 130, 246, 0.3);
  margin-bottom: 0.75rem !important;
  text-align: center;
  letter-spacing: -0.5px;
}

/* SubtÃƒÂ­tulos */
.subtitle {
  color: var(--text-muted) !important;
  font-weight: 400 !important;
  font-size: 1.25rem !important;
  text-align: center;
  margin-bottom: 2rem !important;
}

/* H3 dentro de cards */
.card-section h3 {
  color: var(--text-primary) !important;
  font-weight: 700 !important;
  font-size: 1.5rem !important;
  margin-bottom: 1.25rem !important;
  padding-bottom: 0.75rem !important;
  border-bottom: 2px solid var(--border-default) !important;
}

.card-section h4 {
  color: var(--text-secondary) !important;
  font-weight: 600 !important;
  font-size: 1.25rem !important;
}

.card-section h5 {
  color: var(--text-muted) !important;
  font-weight: 500 !important;
  font-size: 1rem !important;
}

/* Textos generales - MÃƒÂS GRANDES */
.card-section p,
.card-section label,
.card-section span {
  color: var(--text-secondary) !important;
  font-size: 1rem !important;
}

.card-section label {
  font-weight: 600 !important;
  font-size: 1rem !important;
}

.card-section .text-sm,
.card-section small {
  color: var(--text-muted) !important;
  font-size: 1.05rem !important;
  font-weight: 500 !important;
}

/* Text-xs mÃƒÂ¡s legible */
.card-section .text-xs {
  color: var(--text-muted) !important;
  font-size: 1rem !important;
  font-weight: 500 !important;
}

/* ============================
   Ã°Å¸â€Ëœ BOTONES
   ============================ */

.btn-primary,
button.btn-primary {
  background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-blue-dark) 100%) !important;
  color: white !important;
  font-weight: 700 !important;
  padding: 12px 26px !important;
  border-radius: 10px !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4) !important;
  transition: all 0.3s ease !important;
  cursor: pointer;
  font-size: 1.1rem !important;
}

.btn-primary:hover,
button.btn-primary:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 25px rgba(59, 130, 246, 0.6) !important;
  background: linear-gradient(135deg, var(--primary-blue-dark) 0%, #1d4ed8 100%) !important;
}

.btn-success,
button.btn-success {
  background: linear-gradient(135deg, var(--success) 0%, #059669 100%) !important;
  color: white !important;
  font-weight: 700 !important;
  padding: 12px 26px !important;
  border-radius: 10px !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4) !important;
  transition: all 0.3s ease !important;
  font-size: 1.1rem !important;
}

.btn-success:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 25px rgba(16, 185, 129, 0.6) !important;
}

.btn-danger,
button.btn-danger {
  background: linear-gradient(135deg, var(--danger) 0%, #dc2626 100%) !important;
  color: white !important;
  font-weight: 700 !important;
  padding: 12px 26px !important;
  border-radius: 10px !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4) !important;
  transition: all 0.3s ease !important;
  font-size: 1.1rem !important;
}

.btn-danger:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 25px rgba(239, 68, 68, 0.6) !important;
}

.btn-secondary,
button.bg-gray-300 {
  background: var(--bg-card-hover) !important;
  color: var(--text-primary) !important;
  border: 1px solid var(--border-default) !important;
  font-weight: 600 !important;
  padding: 12px 26px !important;
  border-radius: 10px !important;
  transition: all 0.3s ease !important;
  font-size: 1.1rem !important;
}

.btn-secondary:hover {
  background: var(--border-hover) !important;
  border-color: var(--border-accent) !important;
}

/* Botones especÃƒÂ­ficos del mapa y otros */
button.bg-blue-500,
a.bg-blue-500 {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
  color: white !important;
  font-weight: 700 !important;
  padding: 11px 22px !important;
  border-radius: 10px !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4) !important;
  font-size: 1.05rem !important;
}

button.bg-blue-500:hover,
a.bg-blue-500:hover {
  transform: translateY(-2px) !important;
}

button.bg-green-500,
a.bg-green-500 {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
  color: white !important;
  font-weight: 700 !important;
  padding: 11px 22px !important;
  border-radius: 10px !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4) !important;
  font-size: 1.05rem !important;
}

button.bg-green-500:hover,
a.bg-green-500:hover {
  transform: translateY(-2px) !important;
}

/* ============================
   Ã°Å¸â€œÅ  INPUTS Y FORMS
   ============================ */

input,
textarea,
select {
  background: var(--bg-darkest) !important;
  border: 1.5px solid var(--border-default) !important;
  color: var(--text-primary) !important;
  border-radius: 10px !important;
  padding: 13px 18px !important;
  font-size: 1rem !important;
  transition: all 0.3s ease !important;
}

input:hover,
textarea:hover,
select:hover {
  border-color: var(--border-hover) !important;
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--primary-blue) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15) !important;
  background: var(--bg-dark) !important;
  outline: none !important;
}

input::placeholder,
textarea::placeholder {
  color: var(--text-dim) !important;
  font-size: 1.1rem !important;
}

input:disabled,
textarea:disabled,
select:disabled {
  background: var(--bg-card) !important;
  color: var(--text-dim) !important;
  cursor: not-allowed;
  opacity: 0.6;
}

/* ============================
   Ã°Å¸â€œâ€¹ TABLAS
   ============================ */

table {
  background: transparent !important;
  border-collapse: separate !important;
  border-spacing: 0;
  width: 100%;
  font-size: 1.2rem;
}

thead th {
  background: var(--bg-darkest) !important;
  color: var(--primary-blue-light) !important;
  border-bottom: 2px solid var(--border-accent) !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  padding: 18px 20px !important;
  font-size: 1.05rem !important;
  text-align: left;
}

tbody td {
  color: var(--text-secondary) !important;
  border-bottom: 1px solid var(--border-default) !important;
  padding: 16px 20px !important;
  background: transparent !important;
  font-weight: 500 !important;
  font-size: 1rem !important;
}

tbody tr {
  transition: background 0.2s ease;
}

tbody tr:hover {
  background: var(--bg-darkest) !important;
}

tbody tr:hover td {
  color: var(--text-primary) !important;
}

tbody tr:last-child td {
  border-bottom: none !important;
}

/* ============================
   Ã°Å¸Å½Â¨ COLORES DE FONDOS (CARDS DE COLORES)
   ============================ */

/* Indigo */
.bg-indigo-50 {
  background: rgba(99, 102, 241, 0.12) !important;
  border-color: rgba(99, 102, 241, 0.4) !important;
}

.text-indigo-700 {
  color: #a5b4fc !important;
}

.text-indigo-800 {
  color: #a5b4fc !important;
}

.text-indigo-600 {
  color: #c7d2fe !important;
}

/* Amarillo */
.bg-yellow-50 {
  background: rgba(245, 158, 11, 0.12) !important;
  border-color: rgba(245, 158, 11, 0.4) !important;
}

.text-yellow-700 {
  color: #fbbf24 !important;
}

.text-yellow-800 {
  color: #fbbf24 !important;
}

.text-yellow-600 {
  color: #fde68a !important;
}

/* Verde */
.bg-green-50 {
  background: rgba(16, 185, 129, 0.12) !important;
  border-color: rgba(16, 185, 129, 0.4) !important;
}

.text-green-700 {
  color: #6ee7b7 !important;
}

.text-green-800 {
  color: #6ee7b7 !important;
}

.text-green-600 {
  color: #a7f3d0 !important;
}

/* Azul */
.bg-blue-50 {
  background: rgba(59, 130, 246, 0.12) !important;
  border-color: rgba(59, 130, 246, 0.4) !important;
}

.text-blue-700 {
  color: #60a5fa !important;
}

.text-blue-800 {
  color: #60a5fa !important;
}

.text-blue-600 {
  color: #93c5fd !important;
}

/* Morado */
.bg-purple-50 {
  background: rgba(168, 85, 247, 0.12) !important;
  border-color: rgba(168, 85, 247, 0.4) !important;
}

.text-purple-700 {
  color: #c084fc !important;
}

.text-purple-800 {
  color: #e9d5ff !important;
}

.text-purple-600 {
  color: #e9d5ff !important;
}

/* Rojo */
.bg-red-50 {
  background: rgba(239, 68, 68, 0.12) !important;
  border-color: rgba(239, 68, 68, 0.4) !important;
}

.text-red-700 {
  color: #f87171 !important;
}

.text-red-800 {
  color: #f87171 !important;
}

.text-red-600 {
  color: #fca5a5 !important;
}

/* Naranja */
.bg-orange-50 {
  background: rgba(249, 115, 22, 0.12) !important;
  border-color: rgba(249, 115, 22, 0.4) !important;
}

.text-orange-700 {
  color: #fb923c !important;
}

.text-orange-800 {
  color: #fed7aa !important;
}

.text-orange-600 {
  color: #fed7aa !important;
}

/* Rosa */
.bg-pink-50 {
  background: rgba(236, 72, 153, 0.12) !important;
  border-color: rgba(236, 72, 153, 0.4) !important;
}

.text-pink-700 {
  color: #f9a8d4 !important;
}

.text-pink-800 {
  color: #fbcfe8 !important;
}

.text-pink-600 {
  color: #fbcfe8 !important;
}

/* Teal */
.bg-teal-50 {
  background: rgba(20, 184, 166, 0.12) !important;
  border-color: rgba(20, 184, 166, 0.4) !important;
}

.text-teal-700 {
  color: #5eead4 !important;
}

.text-teal-800 {
  color: #5eead4 !important;
}

/* Cyan */
.bg-cyan-50 {
  background: rgba(6, 182, 212, 0.12) !important;
  border-color: rgba(6, 182, 212, 0.4) !important;
}

.text-cyan-700 {
  color: #67e8f9 !important;
}

.text-cyan-800 {
  color: #67e8f9 !important;
}

/* Grises y blancos */
.bg-gray-100,
.bg-gray-50,
.bg-white {
  background: var(--bg-card) !important;
}

.text-gray-700,
.text-gray-600,
.text-gray-500 {
  color: white !important;
}

.text-gray-400 {
  color: var(--text-muted) !important;
}

.text-gray-900,
.text-gray-800 {
  color: var(--text-primary) !important;
}

/* Bordes */
.border-blue-200,
.border-blue-300,
.border-gray-200,
.border-gray-300 {
  border-color: var(--border-default) !important;
}

.border-indigo-200 {
  border-color: rgba(99, 102, 241, 0.4) !important;
}

.border-yellow-200 {
  border-color: rgba(245, 158, 11, 0.4) !important;
}

.border-green-200 {
  border-color: rgba(16, 185, 129, 0.4) !important;
}

.border-purple-200 {
  border-color: rgba(168, 85, 247, 0.4) !important;
}

.border-red-200 {
  border-color: rgba(239, 68, 68, 0.4) !important;
}

.border-orange-200 {
  border-color: rgba(249, 115, 22, 0.4) !important;
}

.border-pink-200 {
  border-color: rgba(236, 72, 153, 0.4) !important;
}

/* ============================
   Ã°Å¸â€œË† NÃƒÅ¡MEROS KPI
   ============================ */

p.kpi-value {
  color: white !important;
  font-weight: 800 !important;
  font-size: 1.5rem !important;
  text-shadow: 0 2px 20px rgba(96, 165, 250, 0.4);
  line-height: 1.2;
  letter-spacing: -1px;
}

/* Strong y negritas */
strong,
.font-bold:not(h2):not(h3):not(h4) {
  color: #240c98 !important;
  font-weight: 700 !important;
}

/* ============================
   Ã°Å¸â€™Â¡ MENSAJES Y ALERTAS
   ============================ */

.message-success {
  background: rgba(16, 185, 129, 0.1) !important;
  border: 1px solid rgba(16, 185, 129, 0.3) !important;
  border-left: 4px solid var(--success) !important;
  color: #6ee7b7 !important;
  border-radius: 10px !important;
  padding: 14px 18px !important;
}

.message-error {
  background: rgba(239, 68, 68, 0.1) !important;
  border: 1px solid rgba(239, 68, 68, 0.3) !important;
  border-left: 4px solid var(--danger) !important;
  color: #fca5a5 !important;
  border-radius: 10px !important;
  padding: 14px 18px !important;
}

.message-info {
  background: rgba(59, 130, 246, 0.1) !important;
  border: 1px solid rgba(59, 130, 246, 0.3) !important;
  border-left: 4px solid var(--primary-blue) !important;
  color: #93c5fd !important;
  border-radius: 10px !important;
  padding: 14px 18px !important;
}

/* ============================
   Ã°Å¸â€â€ž LOADER Y SPINNER
   ============================ */

.spinner {
  border: 3px solid var(--border-default);
  border-top: 3px solid var(--primary-blue);
  border-radius: 50%;
  width: 36px;
  height: 36px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

/* ============================
   Ã°Å¸â€”ÂºÃ¯Â¸Â ZONAS - TABLA CON FONDOS
   ============================ */

/* Clases para fondos de zonas */
.zone-red {
  background: rgba(239, 68, 68, 0.12) !important;
}

.zone-yellow {
  background: rgba(245, 158, 11, 0.12) !important;
}

.zone-green {
  background: rgba(16, 185, 129, 0.12) !important;
}

/* Compatibilidad con estilos antiguos inline */
#zones table tbody tr[style*="background-color: rgb(254, 252, 191)"],
#zones table tbody tr[style*="background: rgb(254, 252, 191)"] {
  background: rgba(245, 158, 11, 0.12) !important;
}

#zones table tbody tr[style*="background-color: rgb(254, 226, 226)"],
#zones table tbody tr[style*="background: rgb(254, 226, 226)"] {
  background: rgba(239, 68, 68, 0.12) !important;
}

#zones table tbody tr[style*="background-color: rgb(207, 250, 254)"],
#zones table tbody tr[style*="background: rgb(207, 250, 254)"] {
  background: rgba(6, 182, 212, 0.12) !important;
}

#zones table tbody tr[style*="background-color: rgb(220, 252, 231)"],
#zones table tbody tr[style*="background: rgb(220, 252, 231)"] {
  background: rgba(16, 185, 129, 0.12) !important;
}

/* TODOS los textos en la tabla de Zonas MÃƒÂS GRANDES Y CLAROS */
#zones table tbody tr td {
  color: var(--text-primary) !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

/* CÃƒÂ³digo del estado (primera columna) MÃƒÂS DESTACADO */
#zones table tbody tr td:first-child {
  color: var(--primary-blue-light) !important;
  font-weight: 800 !important;
  font-size: 1rem !important;
}

/* Zona (segunda columna) */
#zones table tbody tr td:nth-child(2) {
  color: var(--text-primary) !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
}

/* NÃƒÂºmeros (resto de columnas) */
#zones table tbody tr td:nth-child(3),
#zones table tbody tr td:nth-child(4),
#zones table tbody tr td:nth-child(5),
#zones table tbody tr td:nth-child(6) {
  color: var(--text-secondary) !important;
  font-weight: 600 !important;
  font-size: 1rem !important;
}

/* ============================
   Ã°Å¸â€œÂ± RESPONSIVE
   ============================ */

@media (max-width: 768px) {
  .tab-content {
    padding: 1.5rem 1rem;
  }

  .tab-content h2 {
    font-size: 1.75rem !important;
  }

  .card-section {
    padding: 1.5rem !important;
    border-radius: 12px !important;
  }

  .btn-primary,
  .btn-success,
  .btn-danger,
  .btn-secondary {
    padding: 10px 20px !important;
    font-size: 0.9rem !important;
  }

  p.kpi-value {
    font-size: 1.25rem !important;
  }

  table {
    font-size: 1rem;
  }

  input,
  textarea,
  select {
    font-size: 1rem !important;
  }

  button {
    font-size: 1rem;
  }
}

/* ============================
   Ã°Å¸Å½Â¯ UTILIDADES Y OVERRIDES
   ============================ */

/* Links */
a {
  color: var(--primary-blue-light) !important;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--primary-blue) !important;
}

/* Divisores */
hr,
.divider {
  border-color: var(--border-default) !important;
  opacity: 1 !important;
}

/* Grids */
.grid {
  display: grid;
  gap: 1.5rem;
  width: 100%;
  max-width: none;
}

/* Opacity overrides */
.opacity-70,
.opacity-80,
.opacity-90 {
  opacity: 1 !important;
}

/* ============================
   Ã°Å¸â€œÅ  DASHBOARD Y GRÃƒÂFICAS
   ============================ */

/* Contenedores de canvas - altura natural */
#dashboard canvas,
#finances canvas {
  max-width: 100% !important;
  width: 100% !important;
}

/* Contenedores con clases de altura - ajustar */
#finances .h-96 {
  height: 24rem !important;
}

#finances .h-80 {
  height: 20rem !important;
}

/* Asegurar que los contenedores no estiren innecesariamente */
#finances .card-section {
  height: auto !important;
  min-height: auto !important;
}

/* Padding en contenedores de grÃƒÂ¡ficas */
#finances .bg-gray-50.p-4 {
  padding: 1rem !important;
}

/* ============================
   Ã°Å¸â€™Â° FINANZAS - TARJETAS ESPECÃƒÂFICAS
   ============================ */

/* Arreglar alineaciÃƒÂ³n de grids en Finanzas */
#finances .grid {
  display: grid;
  align-items: start;
}

#finances .grid-cols-1 {
  grid-template-columns: 1fr;
}

#finances .grid-cols-2 {
  grid-template-columns: repeat(2, 1fr);
}

@media (min-width: 1024px) {
  #finances .lg\:grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Cards de mÃƒÂ©tricas en Finanzas - Headers mÃƒÂ¡s grandes y visibles */
#finances .bg-indigo-50 h4,
#finances .bg-pink-50 h4,
#finances .bg-teal-50 h4,
#finances .bg-cyan-50 h4,
#finances .bg-yellow-50 h4,
#finances .bg-green-50 h4,
#finances .bg-blue-50 h4,
#finances .bg-purple-50 h4,
#finances .bg-red-50 h4,
#finances .bg-orange-50 h4 {
  color: var(--text-primary) !important;
  font-weight: 700 !important;
  font-size: 1rem !important;
  margin-bottom: 0.75rem !important;
}

/* NÃƒÂºmeros principales en cards de mÃƒÂ©tricas - MÃƒÂS GRANDES */
#finances .bg-indigo-50 p.text-xl,
#finances .bg-pink-50 p.text-xl,
#finances .bg-teal-50 p.text-xl,
#finances .bg-cyan-50 p.text-xl,
#finances .bg-yellow-50 p.text-xl,
#finances .bg-green-50 p.text-xl,
#finances .bg-blue-50 p.text-xl,
#finances .bg-purple-50 p.text-xl,
#finances .bg-red-50 p.text-xl,
#finances .bg-orange-50 p.text-xl,
#finances .text-xl {
  color: var(--primary-blue-light) !important;
  font-weight: 800 !important;
  font-size: 2.25rem !important;
  text-shadow: 0 2px 15px rgba(96, 165, 250, 0.4);
  line-height: 1.2;
}

/* SubtÃƒÂ­tulos pequeÃƒÂ±os debajo de los nÃƒÂºmeros - MÃƒÂS VISIBLES */
#finances .bg-indigo-50 p.text-xs,
#finances .bg-pink-50 p.text-xs,
#finances .bg-teal-50 p.text-xs,
#finances .bg-cyan-50 p.text-xs,
#finances .bg-yellow-50 p.text-xs,
#finances .bg-green-50 p.text-xs,
#finances .bg-blue-50 p.text-xs,
#finances .bg-purple-50 p.text-xs,
#finances .bg-red-50 p.text-xs,
#finances .bg-orange-50 p.text-xs {
  color: var(--text-secondary) !important;
  font-weight: 500 !important;
  font-size: 0.95rem !important;
  margin-top: 0.5rem !important;
}

/* Colores de subtÃƒÂ­tulos por categorÃƒÂ­a */
#finances .text-indigo-600,
#finances .text-pink-600,
#finances .text-teal-600,
#finances .text-cyan-600,
#finances .text-yellow-600,
#finances .text-green-600,
#finances .text-blue-600,
#finances .text-purple-600,
#finances .text-red-600,
#finances .text-orange-600 {
  color: var(--text-secondary) !important;
  font-weight: 500 !important;
  font-size: 0.95rem !important;
}

/* Cards de reportes y cuentas - texto descriptivo mÃƒÂ¡s grande */
#finances .card-section p.text-gray-600 {
  color: var(--text-secondary) !important;
  font-weight: 500 !important;
  font-size: 1.05rem !important;
  line-height: 1.6;
}

/* Contenedores de grÃƒÂ¡ficas con bg-gray-50 */
#finances .bg-gray-50 {
  background: rgba(59, 130, 246, 0.05) !important;
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

/* Asegurar que todas las cards tengan altura natural (no forzada) */
#finances .card-section.flex {
  display: flex;
  flex-direction: column;
}

#finances .card-section.flex>div:first-child {
  flex-grow: 1;
}

/* Labels en Finanzas mÃƒÂ¡s claros y grandes */
#finances label,
#finances .text-sm.font-medium {
  color: var(--text-primary) !important;
  font-weight: 600 !important;
  font-size: 1.1rem !important;
}

/* Textos dentro de previews y descripciones */
#finances #plReportPreview,
#finances em {
  color: var(--text-secondary) !important;
  font-style: italic;
  font-size: 1.05rem !important;
}

/* Leyendas de grÃƒÂ¡ficas mÃƒÂ¡s grandes y visibles */
#finances .chartjs-legend,
#finances canvas+div {
  font-size: 1rem !important;
}

#finances canvas+div span {
  font-size: 1rem !important;
  color: var(--text-primary) !important;
  font-weight: 600 !important;
}

/* Contenedores de leyendas con mejor contraste */
#finances canvas~div,
#finances [class*="legend"] {
  color: var(--text-primary) !important;
}

#finances canvas~div span,
#finances [class*="legend"] span {
  color: var(--text-primary) !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

/* ============================
   FIN DEL TEMA OSCURO
   ============================ */
/* ============================================
   FIX: BotÃ³n logout - Solo desktop con fondo rojo
   En mÃ³vil: sin fondo (controlado por mobile-styles.css)
   ============================================ */
@media (min-width: 769px) {
  #logoutBtn {
    background: var(--danger) !important;
    color: white !important;
    border: 1px solid rgba(239, 68, 68, 0.5) !important;
    box-shadow: 0 2px 10px rgba(239, 68, 68, 0.3) !important;
  }

  #logoutBtn:hover {
    background: #dc2626 !important;
    transform: translateY(-1px);
  }
}

/* Ocultar labels de filtros en móvil - Cuentas */
@media (max-width: 767px) {
  #finances-accounts label {
    display: none !important;
  }
}

/* Mismo ancho para todos los selects en Cuentas - Móvil */
@media (max-width: 767px) {
  #finances-accounts select {
    width: 160px !important;
  }
}

/* Ancho uniforme para selects en Cuentas - Móvil */
@media (max-width: 767px) {
  #finances-accounts select {
    width: 140px !important;
  }
}

/* Forzar flex en desktop para Cuentas */
@media (min-width: 768px) {
  #finances-accounts .card-section>div {
    display: flex !important;
    flex-direction: row !important;
    grid-template-columns: none !important;
  }
}

/* Grid 2x2 en móvil para Cuentas */
@media (max-width: 767px) {
  #finances-accounts .card-section>div {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
  }

  #finances-accounts select {
    width: 140px !important;
  }
}

/* ========================================
   CUENTAS - Optimizaciones
   ======================================== */

/* Forzar 3 columnas en PC para tarjetas de Cuentas */
@media (min-width: 768px) {
  #accountsSummaryCards>div {
    grid-template-columns: repeat(3, 1fr) !important;
  }
}

/* Tarjetas de Cuentas más compactas */
#accountsSummaryCards .bg-green-50,
#accountsSummaryCards .bg-yellow-50,
#accountsSummaryCards .bg-red-50 {
  padding: 0.75rem !important;
}

#accountsSummaryCards h3 {
  font-size: 0.75rem !important;
}

#accountsSummaryCards .text-3xl {
  font-size: 1.5rem !important;
  line-height: 1.2;
}

#accountsSummaryCards .text-sm {
  font-size: 0.75rem !important;
}

/* Móvil: Aún más compactas */
@media (max-width: 767px) {

  #accountsSummaryCards .bg-green-50,
  #accountsSummaryCards .bg-yellow-50,
  #accountsSummaryCards .bg-red-50 {
    padding: 0.5rem !important;
  }

  #accountsSummaryCards .text-3xl {
    font-size: 1.25rem !important;
  }
}

/* Ocultar labels en móvil - Resumen y Reportes */
@media (max-width: 767px) {

  #finances-summary label,
  #finances-reports label {
    display: none !important;
  }

  #finances-summary select,
  #finances-reports select {
    width: 140px !important;
  }
}

/* Forzar flex en desktop - Resumen y Reportes */
@media (min-width: 768px) {

  #finances-summary .card-section>div:first-child,
  #finances-reports .card-section>div:first-child {
    display: flex !important;
    flex-direction: row !important;
  }
}

/* Grid en móvil - Resumen y Reportes */
@media (max-width: 767px) {

  #finances-summary .card-section>div:first-child,
  #finances-reports .card-section>div:first-child {
    display: grid !important;
    grid-template-columns: repeat(2, 1fr) !important;
  }
}

/* Scroll horizontal para tablas de Cuentas en móvil */
@media (max-width: 767px) {
  #accountsList>div {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  #accountsList table {
    min-width: 700px !important;
  }
}

/* Badge de zonas con fondo tipo vidrio (forzamos background) */
#decisionContainer #zoneBadgeHTML .zone-badge {
  background: rgba(255, 255, 255, 0.12) !important;
  /* <— fondo blanco translúcido */
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.14);
}

#decisionContainer #zoneBadgeHTML .zone-label {
  font-size: 0.75rem;
  /* ~text-xs */
  color: rgba(255, 255, 255, 0.85);
}

#decisionContainer #zoneBadgeHTML .zone-text-green {
  color: #22c55e !important;
}

#decisionContainer #zoneBadgeHTML .zone-text-yellow {
  color: #eab308 !important;
}

#decisionContainer #zoneBadgeHTML .zone-text-red {
  color: #dc2626 !important;
}

#decisionContainer #zoneBadgeHTML .zone-text-gray {
  color: #9ca3af !important;
}

/* =========================================
   LEX AI Assistant - Estilos unificados
   ========================================= */

/* Contenedor principal: avatar + burbuja */
#lexAssistant {
  position: fixed !important;
  right: 1rem !important;
  bottom: 1rem !important;

  z-index: 9999 !important;

  display: flex !important;
  flex-direction: column !important;
  align-items: flex-end !important;
  gap: 6px !important;

  /* Truco: el contenedor no captura clics,
     solo el avatar y la burbuja */
  pointer-events: none !important;
}

/* El avatar y la burbuja sí son clicables */
#lexBubble,
.lex-avatar-shell {
  pointer-events: auto !important;
}

/* =========================
   Avatar / Estado visual
   ========================= */

.lex-avatar-shell {
  width: 4rem;
  height: 4rem;
  border-radius: 9999px;
  background: radial-gradient(circle at 30% 20%, #60a5fa, #1d4ed8);
  border: 1px solid rgba(147, 197, 253, 0.6);

  display: flex;
  align-items: center;
  justify-content: center;

  box-shadow: 0 0 30px rgba(59, 130, 246, 0.45);
  animation: lex-breathe 3s ease-in-out infinite;
}

/* Estado “sleep” */
.lex-avatar-shell.lex-sleep {
  animation: lex-sleep 5s ease-in-out infinite;
  filter: grayscale(0.3) brightness(0.85);
}

/* Estado “atención” cuando la calculadora está lista */
.lex-avatar-shell.lex-attention-pulse {
  animation: lexPulse 0.6s ease-in-out infinite alternate;
  box-shadow: 0 0 18px rgba(255, 215, 0, 0.9);
}

/* Puntico de estado (online / pensando, etc.) */
#lexStatusDot {
  transition: background-color 0.2s ease, transform 0.2s ease;
}

/* Animaciones base */
@keyframes lex-pop-in {
  from {
    transform: translateY(20px) scale(0.85);
    opacity: 0;
  }

  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

@keyframes lex-breathe {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.06);
  }
}

@keyframes lex-sleep {

  0%,
  100% {
    transform: scale(1);
    opacity: 0.7;
  }

  50% {
    transform: scale(0.95);
    opacity: 0.5;
  }
}

@keyframes lexPulse {
  from {
    transform: scale(1) translateY(0);
    box-shadow: 0 0 12px rgba(255, 215, 0, 0.5);
  }

  to {
    transform: scale(1.08) translateY(-4px);
    box-shadow: 0 0 26px rgba(255, 215, 0, 1);
  }
}

/* =========================
   Burbuja de mensaje
   ========================= */

#lexBubble {
  background: rgba(255, 255, 255, 0.55) !important;
  color: #0f172a !important;
  border-radius: 16px;
  border: 1px solid rgba(148, 163, 184, 0.4);
  box-shadow: 0 10px 25px rgba(15, 23, 42, 0.25);

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  padding: 0.55rem 0.85rem;
  margin-bottom: 0.6rem;
  max-width: 22rem;

  font-size: 0.8rem;
  line-height: 1.3;
}

#lexBubbleText {
  font-size: 0.8rem;
  line-height: 1.3;
  color: inherit !important;
}

/* Lex: mensaje de zonas / etiqueta dentro del panel */
.lex-side-message {
  background: rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;

  color: #ffffff !important;
  border-radius: 14px;

  padding: 8px 12px;
  margin: 6px auto 0 !important;
  /* centrado, sin empujar a la derecha */

  border: 1px solid rgba(255, 255, 255, 0.35);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);

  max-width: 100% !important;
  font-size: 0.85rem;
  line-height: 1.3;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}


/* =========================
   Modal de análisis Lex
   ========================= */

#lexAnalysisModal {
  /* el display lo controla JS (hidden / flex) */
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

#lexAnalysisContent {
  background: rgba(15, 23, 42, 0.96);
  color: #e5e7eb;
  border-radius: 18px;
}

/* Botón cerrar siempre visible dentro del modal */
#lexAnalysisCloseBtn {
  position: sticky;
  top: 0;
  right: 0;
  z-index: 1000;
  margin-left: auto;
}

/* =========================================
   Ajustes específicos para móvil
   ========================================= */
@media (max-width: 768px) {

  /* Posición del avatar en móvil */
  #lexAssistant {
    right: 0.75rem !important;
    bottom: 0.75rem !important;
  }

  #lexBubble {
    max-width: 72vw;
    padding: 0.55rem 0.75rem;
    margin-bottom: 0.6rem !important;
  }

  /* Fondo del modal */
  #lexAnalysisModal {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 1rem !important;
  }

  /* Contenedor del modal */
  #lexAnalysisContent {
    width: 100% !important;
    max-width: 92vw !important;
    max-height: 88vh !important;

    margin: 0 auto !important;
    overflow-y: auto !important;
    padding: 1rem 1.2rem !important;
  }

  #lexAnalysisContent h2,
  #lexAnalysisContent h3 {
    text-align: center !important;
    margin-bottom: 0.8rem !important;
  }

  #lexAnalysisCloseBtn {
    position: sticky !important;
    top: 0 !important;
    right: 0 !important;
    z-index: 999 !important;
    margin-left: auto !important;
    margin-bottom: 0.5rem !important;
  }
}

/* ============================
   FIX GLOBAL LEX – POSICIÓN
   ============================ */
#lexAssistant {
  position: fixed !important;
  inset: auto !important;
  right: 0.75rem !important;
  bottom: 0.75rem !important;

  display: flex !important;
  flex-direction: column !important;
  align-items: flex-end !important;
  justify-content: flex-end !important;
  gap: 6px !important;

  width: auto !important;
  height: auto !important;
  margin: 0 !important;
  padding: 0 !important;

  transform: none !important;
  z-index: 9999 !important;

  pointer-events: none !important;
  /* el contenedor no bloquea nada */
}

/* Avatar y burbuja sí reciben clic */
#lexBubble,
.lex-avatar-shell {
  pointer-events: auto !important;
}

/* Limitar ancho de la burbuja de Lex para que no empuje nada */
#lexBubble {
  max-width: 260px !important;
}

/* ============================
   FIX GLOBAL – BADGE DE ZONAS
   ============================ */

/* Contenedor donde metes el HTML del badge */
#zoneBadgeHTML {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  margin-top: 6px !important;
}

/* El propio cuadrito translúcido */
#zoneBadgeHTML .lex-side-message,
.lex-side-message {
  background: rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;

  color: #ffffff !important;
  border-radius: 14px;

  padding: 8px 12px !important;
  margin: 0 !important;
  /* nada de margin-left raro */
  border: 1px solid rgba(255, 255, 255, 0.35);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.35);

  max-width: 100% !important;
  /* que use el ancho del panel */
  font-size: 0.85rem;
  line-height: 1.3;

  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* Un poquito más compacto en móvil */
@media (max-width: 768px) {

  #zoneBadgeHTML .lex-side-message,
  .lex-side-message {
    font-size: 0.78rem !important;
    padding: 6px 10px !important;
  }
}

@media (min-width: 1024px) {
  #lexAnalysisContent {
    max-width: 650px !important;
    padding: 32px !important;
  }
}

@media (max-width: 768px) {
  #lexAnalysisContent {
    max-width: 92vw !important;
    padding: 20px !important;
  }
}

/* ============================
   Lex: botones del globito
   ============================ */

.lex-action-btn {
  font-size: 0.7rem;
  line-height: 1;
  padding: 3px 9px;
  border-radius: 9999px;
  border: 1px solid transparent;
  cursor: pointer;

  display: inline-flex;
  align-items: center;
  gap: 4px;

  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.45);
  transform: translateY(0);
  transition:
    background 0.15s ease,
    box-shadow 0.15s ease,
    transform 0.1s ease,
    border-color 0.15s ease,
    color 0.15s ease;
}

/* Botón de Análisis (azul) */
.lex-btn-analyze {
  background: linear-gradient(135deg, #2563eb, #38bdf8);
  color: #f9fafb;
  border-color: rgba(191, 219, 254, 0.7);
}

.lex-btn-analyze:hover {
  box-shadow: 0 6px 14px rgba(37, 99, 235, 0.8);
  transform: translateY(-1px);
}

.lex-btn-analyze:active {
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.9);
  transform: translateY(0);
}

/* Botón de Chat (morado/rosa) */
.lex-btn-chat {
  background: linear-gradient(135deg, #7c3aed, #ec4899);
  color: #fdf2ff;
  border-color: rgba(221, 214, 254, 0.7);
}

.lex-btn-chat:hover {
  box-shadow: 0 6px 14px rgba(124, 58, 237, 0.85);
  transform: translateY(-1px);
}

.lex-btn-chat:active {
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.9);
  transform: translateY(0);
}

/* =========================================
   LEX MODALS – Botones unificados
   ========================================= */

.lex-modal-actions {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 0.4rem;
}

/* Estilo base de botón de modal */
.lex-modal-btn {
  font-size: 0.7rem;
  line-height: 1;
  padding: 4px 10px;
  border-radius: 9999px;
  border: 1px solid transparent;
  cursor: pointer;

  display: inline-flex;
  align-items: center;
  gap: 4px;

  transition:
    background 0.15s ease,
    box-shadow 0.15s ease,
    transform 0.1s ease,
    border-color 0.15s ease,
    color 0.15s ease;
}

/* Variante gris / ghost (Cerrar) */
.lex-modal-btn-ghost {
  background: rgba(15, 23, 42, 0.85);
  color: #e5e7eb;
  border-color: rgba(148, 163, 184, 0.6);
  box-shadow: 0 3px 8px rgba(15, 23, 42, 0.6);
}

.lex-modal-btn-ghost:hover {
  background: rgba(30, 41, 59, 0.95);
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.8);
  transform: translateY(-1px);
}

.lex-modal-btn-ghost:active {
  box-shadow: 0 2px 6px rgba(15, 23, 42, 0.9);
  transform: translateY(0);
}

/* Variante principal (Lex) – morado/azulado */
.lex-modal-btn-primary {
  background: linear-gradient(135deg, #4f46e5, #ec4899);
  color: #fdf2ff;
  border-color: rgba(221, 214, 254, 0.7);
  box-shadow: 0 4px 12px rgba(76, 29, 149, 0.8);
}

.lex-modal-btn-primary:hover {
  box-shadow: 0 6px 16px rgba(76, 29, 149, 0.95);
  transform: translateY(-1px);
}

.lex-modal-btn-primary:active {
  box-shadow: 0 2px 7px rgba(15, 23, 42, 0.9);
  transform: translateY(0);
}

/* Extra: versión compacta por si en móvil se ven grandes */
@media (max-width: 768px) {
  .lex-modal-btn {
    font-size: 0.65rem;
    padding: 3px 8px;
  }
}